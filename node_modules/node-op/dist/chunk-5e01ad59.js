'use strict';

var ensureError = require('./chunk-ec31973d.js');
var util = require('util');
var installOp = require('./chunk-07be731c.js');

async function getDocument(props) {
  var _props$force;

  const forceOverwrite = (_props$force = props.force) !== null && _props$force !== void 0 ? _props$force : false;
  const outStream = await installOp.lib.open(props.outputFilePath, forceOverwrite ? 'w' : 'wx');
  await ensureError.spawnAndCheck('op', ['get', 'document', props.uuid, props.vault && `--vault=${props.vault}`].filter(util.isString), {
    env: process.env,
    verbosity: props.verbosity,
    stdio: ['inherit', outStream, 'pipe']
  });
}

exports.getDocument = getDocument;
